{% extends 'base/panel_frame.html' %}

{% block nav_vehicle %}fms-active{% endblock %}

{% block css %}
<style>
    .add-vehicle-a{
        display: block !important;
        color: grey;
        text-decoration: none;
    }
    .form-group.required .control-label::after{
        content: "*";
        color: red;
    }
</style>
{% endblock %}

{% block content %}

{% include 'helpers/message.html' %}

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="container">
        <div class="mt-3">
            <a href="{% url 'apps:vehicle:vehicleDetails' pk=deliver_address %}" class="text-primary" style="text-decoration: none;"> <i class="fa fa-arrow-left text-primary"></i> Vehicle Details</a>
            <h3 class="mt-3">Update Vehicle</h3>
        </div>

        <div class="row mt-4">
            <div class="col-sm-12">
                {% if context_update == 'details' %}
                <div class="details-input-form">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h4>Identification</h4>

                            <div class="row col-lg-12">
                                <div class="form-group mb-2 col-lg-6">
                                    <label for="{{ form.vehicle_name.id_for_label }}" class="control-label">{{ form.vehicle_name.label }}</label>
                                    {{ form.vehicle_name }}
                                    {% if form.vehicle_name.help_text %}
                                    <small class="form-text text-muted">{{ form.vehicle_name.help_text }}</small>
                                    {% endif %}
    
                                    {% if form.vehicle_name.errors %}
                                        {% for error in form.vehicle_name.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>

                                <div class="form-group mb-2 col-lg-6">
                                    <label for="{{ form.vehicle_type.id_for_label }}" class="control-label">{{ form.vehicle_type.label }}</label>
                                    {{ form.vehicle_type }}
                                    {% if form.vehicle_type.help_text %}
                                    <small class="form-text text-muted">{{ form.vehicle_type.help_text }}</small>
                                    {% endif %}
    
                                    {% if form.vehicle_type.errors %}
                                        {% for error in form.vehicle_type.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row col-lg-12">
                                <div class="form-group mb-2 col-lg-6">
                                    <label for="{{ form.position_assign.id_for_label }}" class="control-label">{{ form.position_assign.label }}</label>
                                    {{ form.position_assign }}
                                    {% if form.position_assign.help_text %}
                                    <small class="form-text text-muted">{{ form.position_assign.help_text }}</small>
                                    {% endif %}
    
                                    {% if form.position_assign.errors %}
                                        {% for error in form.position_assign.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>

                                <div class="row col-lg-6">
                                    <div class="form-group mb-2 col-lg-4">
                                        <label for="{{ form.case_capacity.id_for_label }}" class="control-label">{{ form.case_capacity.label }}</label>
                                        {{ form.case_capacity }}
                                        {% if form.case_capacity.help_text %}
                                        <small class="form-text text-muted">{{ form.case_capacity.help_text }}</small>
                                        {% endif %}
        
                                        {% if form.case_capacity.errors %}
                                            {% for error in form.case_capacity.errors %}
                                            <small class="alert-danger">{{ error }}</small>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
        
                                    <div class="form-group mb-2 col-lg-4">
                                        <label for="{{ form.date_receive.id_for_label }}" class="control-label">{{ form.date_receive.label }}</label>
                                        {{ form.date_receive }}
                                        {% if form.date_receive.help_text %}
                                        <small class="form-text text-muted">{{ form.date_receive.help_text }}</small>
                                        {% endif %}
        
                                        {% if form.date_receive.errors %}
                                            {% for error in form.date_receive.errors %}
                                            <small class="alert-danger">{{ error }}</small>
                                            {% endfor %}
                                        {% endif %}
                                    </div>

                                    <div class="form-group mb-2 col-lg-4">
                                        <label for="{{ form.date_acquired.id_for_label }}" class="control-label">{{ form.date_acquired.label }}</label>
                                        {{ form.date_acquired }}
                                        {% if form.date_acquired.help_text %}
                                        <small class="form-text text-muted">{{ form.date_acquired.help_text }}</small>
                                        {% endif %}
        
                                        {% if form.date_acquired.errors %}
                                            {% for error in form.date_acquired.errors %}
                                            <small class="alert-danger">{{ error }}</small>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                            <div class="row col-lg-12">
                                <div class="form-group mb-2 col-lg-6">
                                    <label for="{{ form.origin.id_for_label }}" class="control-label">{{ form.origin.label }}</label>
                                    {{ form.origin }}
                                    {% if form.origin.help_text %}
                                    <small class="form-text text-muted">{{ form.origin.help_text }}</small>
                                    {% endif %}
    
                                    {% if form.origin.errors %}
                                        {% for error in form.origin.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="row col-lg-6">
                                    <div class="form-group mb-2 col-lg-6">
                                        <label for="{{ form.aquisition_cost.id_for_label }}" class="control-label">{{ form.aquisition_cost.label }}</label>
                                        {{ form.aquisition_cost }}
                                        {% if form.aquisition_cost.help_text %}
                                        <small class="form-text text-muted">{{ form.aquisition_cost.help_text }}</small>
                                        {% endif %}
        
                                        {% if form.aquisition_cost.errors %}
                                            {% for error in form.aquisition_cost.errors %}
                                            <small class="alert-danger">{{ error }}</small>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
        
                                    <div class="form-group mb-2 col-lg-6">
                                        <label for="{{ form.useful_life_month.id_for_label }}" class="control-label">{{ form.useful_life_month.label }}</label>
                                        {{ form.useful_life_month }}
                                        {% if form.useful_life_month.help_text %}
                                        <small class="form-text text-muted">{{ form.useful_life_month.help_text }}</small>
                                        {% endif %}
        
                                        {% if form.useful_life_month.errors %}
                                            {% for error in form.useful_life_month.errors %}
                                            <small class="alert-danger">{{ error }}</small>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-body">
                            <h4>Classification</h4>
                            
                            <div class="form-group mb-2">
                                <label for="{{ form.status.id_for_label }}" class="control-label">{{ form.status.label }}</label>
                                {{ form.status }}
                                {% if form.status.help_text %}
                                <small class="form-text text-muted">{{ form.status.help_text }}</small>
                                {% endif %}

                                {% if form.status.errors %}
                                    {% for error in form.status.errors %}
                                    <small class="alert-danger">{{ error }}</small>
                                    {% endfor %}
                                {% endif %}
                            </div>

                            <div class="form-group mb-2">
                                <label for="{{ form.ownership.id_for_label }}" class="control-label">{{ form.ownership.label }}</label>
                                {{ form.ownership }}
                                {% if form.ownership.help_text %}
                                <small class="form-text text-muted">{{ form.ownership.help_text }}</small>
                                {% endif %}

                                {% if form.ownership.errors %}
                                    {% for error in form.ownership.errors %}
                                    <small class="alert-danger">{{ error }}</small>
                                    {% endfor %}
                                {% endif %}
                            </div>

                            <div class="form-group mb-2">
                                <label for="{{ form.area_coverage.id_for_label }}" class="control-label">{{ form.area_coverage.label }}</label>
                                {{ form.area_coverage }}
                                {% if form.area_coverage.help_text %}
                                <small class="form-text text-muted">{{ form.area_coverage.help_text }}</small>
                                {% endif %}

                                {% if form.area_coverage.errors %}
                                    {% for error in form.area_coverage.errors %}
                                    <small class="alert-danger">{{ error }}</small>
                                    {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <div class="mb-5">
                        <button type="submit" class="m-3 btn btn-primary" data-bs-toggle="modal" data-bs-target="#loaderModal" style="float: right;">Save Vehicle</button>
                    </div>
                </div>
                {% elif context_update == 'cr' %}
                <div class="cr-input-form">
                    <div class="card mb-3">
                        <div class="card-body">
                            <h4>Certificate of Registration</h4>
                            
                            <div class="row mt-6">
                                <div class="col-sm-6">
                                    <label for="{{ form.field_office.id_for_label }}" class="control-label">{{ form.field_office.label }}</label>
                                    {{ form.field_office }}
                                    {% if form.field_office.help_text %}
                                    <small class="form-text text-muted">{{ form.field_office.help_text }}</small>
                                    {% endif %}

                                    {% if form.field_office.errors %}
                                        {% for error in form.field_office.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-6">
                                    <label for="{{ form.cr_no.id_for_label }}" class="control-label">{{ form.cr_no.label }}</label>
                                    {{ form.cr_no }}
                                    {% if form.cr_no.help_text %}
                                    <small class="form-text text-muted">{{ form.cr_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.cr_no.errors %}
                                        {% for error in form.cr_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-6">
                                    <label for="{{ form.date.id_for_label }}" class="control-label">{{ form.date.label }}</label>
                                    {{ form.date }}
                                    {% if form.date.help_text %}
                                    <small class="form-text text-muted">{{ form.date.help_text }}</small>
                                    {% endif %}

                                    {% if form.date.errors %}
                                        {% for error in form.date.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-3">
                                    <label for="{{ form.mvfile_no.id_for_label }}" class="control-label">{{ form.mvfile_no.label }}</label>
                                    {{ form.mvfile_no }}
                                    {% if form.mvfile_no.help_text %}
                                    <small class="form-text text-muted">{{ form.mvfile_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.mvfile_no.errors %}
                                        {% for error in form.mvfile_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.plate_no.id_for_label }}" class="control-label">{{ form.plate_no.label }}</label>
                                    {{ form.plate_no }}
                                    {% if form.plate_no.help_text %}
                                    <small class="form-text text-muted">{{ form.plate_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.plate_no.errors %}
                                        {% for error in form.plate_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.engine_no.id_for_label }}" class="control-label">{{ form.engine_no.label }}</label>
                                    {{ form.engine_no }}
                                    {% if form.engine_no.help_text %}
                                    <small class="form-text text-muted">{{ form.engine_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.engine_no.errors %}
                                        {% for error in form.engine_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.chasis_no.id_for_label }}" class="control-label">{{ form.chasis_no.label }}</label>
                                    {{ form.chasis_no }}
                                    {% if form.chasis_no.help_text %}
                                    <small class="form-text text-muted">{{ form.chasis_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.chasis_no.errors %}
                                        {% for error in form.chasis_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-3">
                                    <label for="{{ form.denomination.id_for_label }}" class="control-label">{{ form.denomination.label }}</label>
                                    {{ form.denomination }}
                                    {% if form.denomination.help_text %}
                                    <small class="form-text text-muted">{{ form.denomination.help_text }}</small>
                                    {% endif %}

                                    {% if form.denomination.errors %}
                                        {% for error in form.denomination.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.piston_displacement.id_for_label }}" class="control-label">{{ form.piston_displacement.label }}</label>
                                    {{ form.piston_displacement }}
                                    {% if form.piston_displacement.help_text %}
                                    <small class="form-text text-muted">{{ form.piston_displacement.help_text }}</small>
                                    {% endif %}

                                    {% if form.piston_displacement.errors %}
                                        {% for error in form.piston_displacement.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.no_cyclender.id_for_label }}" class="control-label">{{ form.no_cyclender.label }}</label>
                                    {{ form.no_cyclender }}
                                    {% if form.no_cyclender.help_text %}
                                    <small class="form-text text-muted">{{ form.no_cyclender.help_text }}</small>
                                    {% endif %}

                                    {% if form.no_cyclender.errors %}
                                        {% for error in form.no_cyclender.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.fuel_type.id_for_label }}" class="control-label">{{ form.fuel_type.label }}</label>
                                    {{ form.fuel_type }}
                                    {% if form.fuel_type.help_text %}
                                    <small class="form-text text-muted">{{ form.fuel_type.help_text }}</small>
                                    {% endif %}

                                    {% if form.fuel_type.errors %}
                                        {% for error in form.fuel_type.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-3">
                                    <label for="{{ form.make.id_for_label }}" class="control-label">{{ form.make.label }}</label>
                                    {{ form.make }}
                                    {% if form.make.help_text %}
                                    <small class="form-text text-muted">{{ form.make.help_text }}</small>
                                    {% endif %}

                                    {% if form.make.errors %}
                                        {% for error in form.make.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.series.id_for_label }}" class="control-label">{{ form.series.label }}</label>
                                    {{ form.series }}
                                    {% if form.series.help_text %}
                                    <small class="form-text text-muted">{{ form.series.help_text }}</small>
                                    {% endif %}

                                    {% if form.series.errors %}
                                        {% for error in form.series.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.body_no.id_for_label }}" class="control-label">{{ form.body_no.label }}</label>
                                    {{ form.body_no }}
                                    {% if form.body_no.help_text %}
                                    <small class="form-text text-muted">{{ form.body_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.body_no.errors %}
                                        {% for error in form.body_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <label for="{{ form.body_type.id_for_label }}" class="control-label">{{ form.body_type.label }}</label>
                                            {{ form.body_type }}
                                            {% if form.body_type.help_text %}
                                            <small class="form-text text-muted">{{ form.body_type.help_text }}</small>
                                            {% endif %}

                                            {% if form.body_type.errors %}
                                                {% for error in form.body_type.errors %}
                                                <small class="alert-danger">{{ error }}</small>
                                                {% endfor %}
                                            {% endif %}
                                        </div>
                                        <div class="col-sm-6">
                                            <label for="{{ form.year_model.id_for_label }}" class="control-label">{{ form.year_model.label }}</label>
                                            {{ form.year_model }}
                                            {% if form.year_model.help_text %}
                                            <small class="form-text text-muted">{{ form.year_model.help_text }}</small>
                                            {% endif %} 
                                            
                                            {% if form.year_model.errors %}
                                                {% for error in form.year_model.errors %}
                                                <small class="alert-danger">{{ error }}</small>
                                                {% endfor %}
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-3">
                                    <label for="{{ form.gross_weight.id_for_label }}" class="control-label">{{ form.gross_weight.label }}</label>
                                    {{ form.gross_weight }}
                                    {% if form.gross_weight.help_text %}
                                    <small class="form-text text-muted">{{ form.gross_weight.help_text }}</small>
                                    {% endif %}

                                    {% if form.gross_weight.errors %}
                                        {% for error in form.gross_weight.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.net_weight.id_for_label }}" class="control-label">{{ form.net_weight.label }}</label>
                                    {{ form.net_weight }}
                                    {% if form.net_weight.help_text %}
                                    <small class="form-text text-muted">{{ form.net_weight.help_text }}</small>
                                    {% endif %}

                                    {% if form.net_weight.errors %}
                                        {% for error in form.net_weight.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.shipping_weight.id_for_label }}" class="control-label">{{ form.shipping_weight.label }}</label>
                                    {{ form.shipping_weight }}
                                    {% if form.shipping_weight.help_text %}
                                    <small class="form-text text-muted">{{ form.shipping_weight.help_text }}</small>
                                    {% endif %}

                                    {% if form.shipping_weight.errors %}
                                        {% for error in form.shipping_weight.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-3">
                                    <label for="{{ form.net_capacity.id_for_label }}" class="control-label">{{ form.net_capacity.label }}</label>
                                    {{ form.net_capacity }}
                                    {% if form.net_capacity.help_text %}
                                    <small class="form-text text-muted">{{ form.net_capacity.help_text }}</small>
                                    {% endif %}

                                    {% if form.net_capacity.errors %}
                                        {% for error in form.net_capacity.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-6">
                                    <label for="{{ form.owner.id_for_label }}" class="control-label">{{ form.owner.label }}</label>
                                    {{ form.owner }}
                                    {% if form.owner.help_text %}
                                    <small class="form-text text-muted">{{ form.owner.help_text }}</small>
                                    {% endif %}

                                    {% if form.owner.errors %}
                                        {% for error in form.owner.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-6">
                                    <label for="{{ form.contact_no.id_for_label }}" class="control-label">{{ form.contact_no.label }}</label>
                                    {{ form.contact_no }}
                                    {% if form.contact_no.help_text %}
                                    <small class="form-text text-muted">{{ form.contact_no.help_text }}</small>
                                    {% endif %}

                                    {% if form.contact_no.errors %}
                                        {% for error in form.contact_no.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-12">
                                    <label for="{{ form.address.id_for_label }}" class="control-label">{{ form.address.label }}</label>
                                    {{ form.address }}
                                    {% if form.address.help_text %}
                                    <small class="form-text text-muted">{{ form.address.help_text }}</small>
                                    {% endif %}

                                    {% if form.address.errors %}
                                        {% for error in form.address.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-12">
                                    <label for="{{ form.encumbered.id_for_label }}" class="control-label">{{ form.encumbered.label }}</label>
                                    {{ form.encumbered }}
                                    {% if form.encumbered.help_text %}
                                    <small class="form-text text-muted">{{ form.encumbered.help_text }}</small>
                                    {% endif %}

                                    {% if form.encumbered.errors %}
                                        {% for error in form.encumbered.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>

                            <div class="row mt-3">
                                <div class="col-sm-6">
                                    <label for="{{ form.details_f_registration.id_for_label }}" class="control-label">{{ form.details_f_registration.label }}</label>
                                    {{ form.details_f_registration }}
                                    {% if form.details_f_registration.help_text %}
                                    <small class="form-text text-muted">{{ form.details_f_registration.help_text }}</small>
                                    {% endif %}

                                    {% if form.details_f_registration.errors %}
                                        {% for error in form.details_f_registration.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                                <div class="col-sm-6">
                                    <label for="{{ form.amount.id_for_label }}" class="control-label">{{ form.amount.label }}</label>
                                    {{ form.amount }}
                                    {% if form.amount.help_text %}
                                    <small class="form-text text-muted">{{ form.amount.help_text }}</small>
                                    {% endif %}

                                    {% if form.amount.errors %}
                                        {% for error in form.amount.errors %}
                                        <small class="alert-danger">{{ error }}</small>
                                        {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                            
                        </div>
                    </div>

                    <div class="mb-5">
                        <button type="submit" class="m-3 btn btn-primary" data-bs-toggle="modal" data-bs-target="#loaderModal" style="float: right;">Save Changes</button>
                    </div>
                    
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</form>

{% include 'helpers/modals.html' %}
{% endblock %}