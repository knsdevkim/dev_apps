{% extends 'base/panel_frame.html' %}

{% load static %}

{% block nav_dashboard %}fms-active{% endblock %}

{% block bottom_js %}
<script src="{% static 'js/charts/chart.js' %}"></script>
<script src="{% static 'js/charts/chart.min.js' %}"></script>
<script src="{% static 'js/charts/loader.js' %}"></script>

<script>
var xyValues = [
{x:50, y:7},
{x:60, y:8},
{x:70, y:8},
{x:80, y:9},
{x:90, y:9},
{x:100, y:9},
{x:110, y:10},
{x:120, y:11},
{x:130, y:14},
{x:140, y:14},
{x:150, y:15}
];

new Chart("myChart", {
type: "scatter",
data: {
    datasets: [{
    pointRadius: 4,
    pointBackgroundColor: "rgb(0,0,255)",
    data: xyValues
    }]
},
options: {
    legend: {display: false},
    scales: {
    xAxes: [{ticks: {min: 40, max:160}}],
    yAxes: [{ticks: {min: 6, max:16}}],
    }
}
});
</script>

<script>
var xValues = ["March 21", "April 21", "May 21", "June 21", "July 21"];
var yValues = [55, 49, 44, 24, 15];
var barColors = ["green", "green","green","green","green"];

new Chart("myChart2", {
type: "bar",
data: {
    labels: xValues,
    datasets: [{
    backgroundColor: barColors,
    data: yValues
    }]
},
options: {
    legend: {display: false},
    title: {
    display: true,
    text: ""
    }
}
});
</script>

<script>
var xValues = ["March 21", "April 21", "May 21", "June 21", "July 21"];
var yValues = [55, 49, 44, 24, 15];
var barColors = ["blue", "blue","blue","blue","blue"];

new Chart("myChart1", {
type: "bar",
data: {
    labels: xValues,
    datasets: [{
    backgroundColor: barColors,
    data: yValues
    }]
},
options: {
    legend: {display: false},
    title: {
    display: true,
    text: ""
    }
}
});
</script>

<script>
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
var data = google.visualization.arrayToDataTable([
['', 'Mhl'],
['Vehicles with 0 Inspections',30],
['Vehicles with > 0 Inspections',70]
]);

var options = {
title:''
};

var chart = new google.visualization.PieChart(document.getElementById('myChart3'));
chart.draw(data, options);
}
</script>
{% endblock %}

{% block content %}

<h5 class="mb-3">My Dashboard</h5>
<hr class="mb-4">
<div class="row" style="display: flex;">
    <div class="col-sm-6">
        <div class="row">
            <div class="col-sm-6">
                <div class="card shadow bg-body rounded">
                    <div class="card-body">
                        <div class="mb-2">
                            <span><b>Vehicle Status</b></span>
                            <a href="" class="float-end text-decoration-none">Details</a>
                        </div>
                        <table class="table">
                            <tr>
                                <td>Active</td>
                                <td><span class="badge bg-success float-end">2</span></td>
                            </tr>
                            <tr>
                                <td>Inactive</td>
                                <td><span class="badge bg-primary float-end">0</span></td>
                            </tr>
                            <tr>
                                <td>Out of service</td>
                                <td><span class="badge bg-danger float-end">1</span></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card shadow bg-body rounded" style="height: 100%;">
                    <div class="card-body">
                        <div class="mb-4">
                            <span><b>Vehicle Assignments</b></span>
                        </div>
                        <div class="row" style="text-align: center;">
                            <div class="col-sm-6">
                                <span class="fs-2 text-warning">2</span><br>
                                <span>Assigned</span>
                            </div>
                            <div class="col-sm-6">
                                <span class="fs-2 text-warning">2</span><br>
                                <span>Assigned</span>
                            </div>
                        </div>
                        <hr>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 mt-4">
                <div class="card shadow bg-body rounded" style="height: 100%;">
                    <div class="card-body">
                        <div class="mb-4">
                            <span><b>Service Reminders</b></span>
                        </div>
                        <div class="row" style="text-align: center;">
                            <div class="col-sm-6">
                                <span class="fs-2 text-warning">2</span><br>
                                <span>Due soon</span>
                            </div>
                            <div class="col-sm-6">
                                <span class="fs-2 text-danger">5</span><br>
                                <span>Overdue</span>
                            </div>
                        </div>
                        <hr>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 mt-4">
                <div class="card shadow bg-body rounded" style="height: 100%;">
                    <div class="card-body">
                        <div class="mb-4">
                            <span><b>Vehicle Renewal Reminders</b></span>
                        </div>
                        <div class="row" style="text-align: center;">
                            <div class="col-sm-6">
                                <span class="fs-2 text-warning">0</span><br>
                                <span>Vehicles due soon</span>
                            </div>
                            <div class="col-sm-6">
                                <span class="fs-2 text-danger">1</span><br>
                                <span>Vehicles overdue</span>
                            </div>
                        </div>
                        <hr>
                    </div>
                </div>
            </div>
        </div>      
    </div>
    <!-- <div class="col-sm-6">
        <div class="card shadow bg-body rounded">
            <div class="card-body">

                <h5 class="mb-3">Latest Meter Reading</h5>
                <canvas id="myChart"></canvas>
            </div>
        </div>
    </div> -->
</div>


<div class="row">
        <div class="col-sm-3 mt-4">
            <div class="card shadow bg-body rounded" style="height: 100%;">
                <div class="card-body">
                    <span><b>Service Cost</b></span>
                    <canvas id="myChart2" style="width:100%;max-width:600px"></canvas>
                </div>
            </div>
        </div>
        <div class="col-sm-3 mt-4">
            <div class="card shadow bg-body rounded" style="height: 100%;">
                <div class="card-body">

                    <span><b>Fuel Cost</b></span>
                    <canvas id="myChart1" style="width:100%;max-width:600px"></canvas>
                </div>
            </div>
        </div>
        <div class="col-sm-3 mt-4">
            <div class="card shadow bg-body rounded" style="height: 100%;">
                <div class="card-body">
                    <div class="mb-4">
                        <span><b>Open Issues</b></span>
                    </div>
                    <div class="row" style="text-align: center;">
                        <div class="col-sm-6">
                            <span class="fs-2 text-warning">5</span><br>
                            <span>Open</span>
                        </div>
                        <div class="col-sm-6">
                            <span class="fs-2 text-success">0</span><br>
                            <span>Overdue</span>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>
        </div>
        <div class="col-sm-3 mt-4">
            <div class="card shadow bg-body rounded">
                <div class="mt-3 mx-3">
                    <span><b>Open Issues</b></span>
                </div>
                <div id="myChart3" style="width:100%; max-width:250px; height:150px;"></div>
            </div>
        </div>
</div>

{% endblock %}